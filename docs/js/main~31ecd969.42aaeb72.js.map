{"version":3,"sources":["webpack:///./src/components/VPage/VPage.tsx","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/components/VAlert/VAlert.tsx","webpack:///./src/decorators/WithBlocking.ts","webpack:///./src/views/main/PageMain.tsx","webpack:///./src/assets/hula_loop_octodex03.gif","webpack:///./node_modules/core-js/internals/string-trim-forced.js"],"names":["VPage","this","$slots","default","$","$trim","trim","forcedStringTrimMethod","target","proto","forced","module","exports","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","storage","factory","options","prop","method","methods","Error","key","name","args","result","apply","Promise","finally","WithBlocking","vue","message","signIn","validName","goToLobby","$router","push","ChatRoomList","checkUserSession","session","currentRoomId","ChatRoom","params","roomId","idElement","focus","prevent","handleSubmit","WithGlobalSpinner","fails","non","METHOD_NAME"],"mappings":"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","file":"js/main~31ecd969.42aaeb72.js","sourcesContent":["import { Component, Vue } from 'vue-property-decorator'\nimport './VPage.scss'\n\n@Component\nexport default class VPage extends Vue {\n  render() {\n    return (\n      <div class=\"page\">\n        {this.$slots.default}\n      </div>\n    )\n  }\n}\n\n// VUE JSX HOT LOADER //\nif (module.hot) require(\"/Users/silver/workspaces/vue-firebase-chat/node_modules/vue-jsx-hot-loader/src/api.js\")({ Vue: require('vue'), ctx: eval('this'), module: module, hotId: \"_vue_jsx_hot-3083cd9f/VPage.tsx\" });","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","import { Component, Vue } from 'vue-property-decorator'\nimport './VAlert.scss'\n\n@Component\nexport default class VAlert extends Vue {\n  render() {\n    return (\n      <div class=\"alert\">\n        {this.$slots.default}\n      </div>\n    )\n  }\n}\n\n// VUE JSX HOT LOADER //\nif (module.hot) require(\"/Users/silver/workspaces/vue-firebase-chat/node_modules/vue-jsx-hot-loader/src/api.js\")({ Vue: require('vue'), ctx: eval('this'), module: module, hotId: \"_vue_jsx_hot-2d195e13/VAlert.tsx\" });","import { createDecorator } from 'vue-class-component'\nimport { Vue } from 'vue-property-decorator'\nimport { Dictionary } from '@/types/common'\n\nconst storage: Dictionary<any> = {}\n\nconst factory = createDecorator((options, prop) => {\n  const method = options.methods?.[prop]\n  if (!method) {\n    throw new Error(`${prop} is ${method}`)\n  }\n\n  options.methods![prop] = function (...args: any[]) {\n    const key = `${options.name}.${prop}`\n    if (storage[key]) {\n      console.warn(`${key} is in progress.`)\n      return\n    }\n    const result = method.apply(this, args)\n    if (result instanceof Promise) {\n      storage[key] = result.finally(() => {\n        delete storage[key]\n      })\n    }\n    return result\n  }\n})\n\nexport function WithBlocking(vue: Vue, key: string) {\n  return factory(vue, key)\n}\n","import { modifiers } from 'vue-tsx-support'\nimport { Component, Ref, Vue } from 'vue-property-decorator'\nimport { Action } from 'vuex-class'\n\nimport './PageMain.scss'\nimport RouteName from '@/router/route.name'\nimport VAlert from '@/components/VAlert/VAlert'\nimport VButton from '@/components/VButton/VButton'\nimport VPage from '@/components/VPage/VPage'\nimport logo from '@/assets/hula_loop_octodex03.gif'\nimport { WithGlobalSpinner } from '@/decorators/WithGlobalSpinner'\nimport { CHECK_USER_SESSION, SIGN_IN } from '@/store/session/actions.type'\nimport { WithBlocking } from '@/decorators/WithBlocking'\nimport { Session } from '@/services/backend'\n\n@Component\nexport default class PageMain extends Vue {\n  @Ref()\n  private readonly idElement!: HTMLInputElement\n\n  @Action(CHECK_USER_SESSION)\n  readonly checkUserSession!: () => Promise<Session>\n\n  @Action(SIGN_IN)\n  readonly signIn!: (name: string) => Promise<void>\n\n  private name = ''\n\n  private message = ''\n\n  private get validName() {\n    return this.name.trim()\n  }\n\n  @WithBlocking\n  @WithGlobalSpinner\n  private async handleSubmit() {\n    try {\n      this.message = ''\n      await this.signIn(this.validName)\n      this.goToLobby()\n    } catch (e) {\n      this.message = e.message\n    }\n  }\n\n  goToLobby() {\n    this.$router.push({\n      name: RouteName.ChatRoomList,\n    })\n  }\n\n  @WithGlobalSpinner\n  async mounted() {\n    try {\n      const session = await this.checkUserSession()\n      if (session.currentRoomId) {\n        this.$router.push({\n          name: RouteName.ChatRoom,\n          params: { roomId: session.currentRoomId },\n        })\n      } else {\n        this.goToLobby()\n      }\n    } catch {\n      this.idElement.focus()\n    }\n  }\n\n  render() {\n    return (\n      <VPage class=\"main\">\n        <h1 class=\"main__title\">\n          <a\n            href=\"https://github.com/silverprize/vue-firebase-chat\"\n            target=\"_blank\"\n          >vue-firebase-chat</a>\n        </h1>\n        <img\n          class=\"main__logo\"\n          src={logo}\n          alt=\"Logo\"\n        />\n        {this.message &&\n          <VAlert class=\"main__message\">\n            {this.message}\n          </VAlert>\n        }\n        <form\n          class=\"main__form\"\n          onSubmit={modifiers.prevent(this.handleSubmit)}\n        >\n          <div class=\"main__form-group\">\n            <label\n              class=\"main__input-label\"\n              for=\"chatId\"\n            >\n              대화명\n            </label>\n            <input\n              id=\"chatId\"\n              ref=\"idElement\"\n              v-model={this.name}\n              class=\"main__input\"\n              type=\"text\"\n              placeholder=\"홍길동\"\n              autocomplete=\"off\"\n            />\n          </div>\n          <VButton\n            type=\"submit\"\n            variant=\"brown\"\n            disabled={!this.validName}\n          >\n            접속\n          </VButton>\n        </form>\n      </VPage>\n    )\n  }\n}\n\n// VUE JSX HOT LOADER //\nif (module.hot) require(\"/Users/silver/workspaces/vue-firebase-chat/node_modules/vue-jsx-hot-loader/src/api.js\")({ Vue: require('vue'), ctx: eval('this'), module: module, hotId: \"_vue_jsx_hot-cb739694/PageMain.tsx\" });","module.exports = __webpack_public_path__ + \"img/hula_loop_octodex03.f6e46692.gif\";","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n"],"sourceRoot":""}